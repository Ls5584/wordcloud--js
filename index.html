<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>词云生成器</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="theme-switch">
        <button id="themeToggle">
            <svg class="sun-icon" viewBox="0 0 24 24"><path d="M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.65 0-3 1.35-3 3s1.35 3 3 3 3-1.35 3-3-1.35-3-3-3zm0-2c.28 0 .5-.22.5-.5v-3c0-.28-.22-.5-.5-.5s-.5.22-.5.5v3c0 .28.22.5.5.5zm0 14c-.28 0-.5.22-.5.5v3c0 .28.22.5.5.5s.5-.22.5-.5v-3c0-.28-.22-.5-.5-.5zm8.5-8.5h-3c-.28 0-.5.22-.5.5s.22.5.5.5h3c.28 0 .5-.22.5-.5s-.22-.5-.5-.5zm-14 0h-3c-.28 0-.5.22-.5.5s.22.5.5.5h3c.28 0 .5-.22.5-.5s-.22-.5-.5-.5z"/></svg>
            <svg class="moon-icon" viewBox="0 0 24 24"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-3.03 0-5.5-2.47-5.5-5.5 0-1.82.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z"/></svg>
        </button>
    </div>
    <div class="container">
        <h1>词云生成器</h1>
        <div class="input-section">
            <div class="textarea-container">
                <textarea id="textInput" placeholder="在此输入文本...（最多10000字）"></textarea>
                <div class="char-count">0 / 10000</div>
            </div>
            <div class="file-upload">
                <input type="file" id="fileInput" accept=".txt">
                <label for="fileInput">上传文件</label>
            </div>
            <div class="buttons">
                <button id="analyzeBtn">统计词频</button>
                <button id="generateBtn">生成词云</button>
                <button id="resetBtn">重置</button>
                <button id="saveBtn" style="display: none;">保存图片</button>
            </div>
        </div>

        <div class="analysis-section" style="display: none;">
            <div class="word-stats">
                <h3>词频统计（Top 10）</h3>
                <div class="word-stats-header">
                    <span>词语</span>
                    <span>出现次数</span>
                </div>
                <div id="wordStats" class="word-stats-list"></div>
            </div>
            
            <div class="stopwords-section">
                <h3>自定义停用词</h3>
                <p class="stopwords-tip">添加你想要过滤的词语，这些词将不会出现在词云中</p>
                <div class="stopwords-input">
                    <input type="text" id="stopwordInput" placeholder="输入要过滤的词">
                    <button id="addStopword">添加</button>
                </div>
                <div id="stopwordsList" class="stopwords-list"></div>
            </div>
        </div>

        <div id="wordcloud" class="wordcloud-container"></div>
    </div>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-cloud/1.2.5/d3.layout.cloud.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script src="script.js"></script>
</body>
</html> 